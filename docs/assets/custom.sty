\usepackage{newunicodechar, polyglossia}
\usepackage{graphicx}
\usepackage{fontspec}
\setmainfont{TeX Gyre Termes}
\setsansfont{TeX Gyre Heros Cn}
%\setsansfont{TeX Gyre Adventor}
%\setmainfont{Libertinus Serif}
%\setsansfont{Libertinus Sans}
%\setmainfont{DejaVu Serif Condensed}
%\setsansfont{DejaVu Sans Condensed}

% font settings
%\usepackage[no-math]{fontspec}
%\usepackage{newunicodechar}

%\setmainfont{Lato}[Scale=MatchLowercase, Ligatures=TeX]
%\setmonofont[Scale=MatchLowercase]{Roboto Mono}
%\setmonofont[Scale=MatchLowercase]{Ubuntu Mono}
\setmonofont[Scale=MatchLowercase]{DejaVu Sans Mono}
%
\usepackage{amsmath}
\usepackage{unicode-math}
%\setmathfont{libertinusmath-regular.otf}
\setmathfont{texgyretermes-math.otf}
% colours
\usepackage{xcolor}

\definecolor{light-blue}{HTML}{6b85dd}
\definecolor{dark-blue}{HTML}{4266d5}
\definecolor{light-red}{HTML}{d66661}
\definecolor{dark-red}{HTML}{c93d39}
\definecolor{light-green}{HTML}{6bab5b}
\definecolor{dark-green}{HTML}{3b972e}
\definecolor{light-purple}{HTML}{aa7dc0}
\definecolor{dark-purple}{HTML}{945bb0}
%

% listings
\usepackage{listings, minted}

\lstset{
    %basicstyle = \small\ttfamily,
    basicstyle = \ttfamily,
    breaklines = true,
    columns = fullflexible,
    %frame = leftline,
    keepspaces = true,
    showstringspaces = false,
    xleftmargin = 3pt
}

\setminted{
    breaklines = true,
    %fontsize = \small,
    %frame = leftline,
}
%

% tables
\usepackage{tabulary}
%

% hyperref
\usepackage{hyperref}
\hypersetup{
    pdfpagelabels,
    bookmarks,
    hyperindex,
    unicode = true,
    linkcolor = dark-blue,
    urlcolor = dark-purple,
    colorlinks = true,
}
%

% table of contents
\maxtocdepth{section}
%

% paragraphs
\setlength{\parindent}{0pt}
\nonzeroparskip
%\setlength{\parskip}{\smallskipamount}
%

% adjust margins
\setstocksize{297mm}{210mm}
\settrimmedsize{233mm}{177mm}{*}
\setlrmarginsandblock{25mm}{25mm}{*}
\setulmarginsandblock{20mm}{25mm}{*}
\setheaderspaces{0mm}{*}{*}

\checkandfixthelayout
%

\nouppercaseheads
\makeevenfoot{headings}{\small\textsf{\bfseries\thepage\hspace{0.4cm}|\hspace{0.4cm}\leftmark}}{\small\textsf{\bfseries}}{}
\makeoddfoot{headings}{}{\small\textsf{\bfseries}}{\small\textsf{\bfseries\rightmark\hspace{0.4cm}|\hspace{0.4cm}\thepage}}
\makeevenhead{headings}{}{}{}
\makeoddhead{headings}{}{}{}
\makefootrule{headings}{\textwidth}{\normalrulethickness}{0ex}
\copypagestyle{plainnotice}{plain}
\makeevenfoot{plainnotice}{\small\textsf{\bfseries\thepage}}{}{}
\makeoddfoot{plainnotice}{}{}{\small\textsf{\bfseries\thepage}}
\makefootrule{plainnotice}{\textwidth}{\normalrulethickness}{0ex}
\aliaspagestyle{chapter}{plainnotice}

\makechapterstyle{oreilly}{%
  \chapterstyle{default}
  \renewcommand*{\chapnumfont}{\normalfont\huge\sffamily\bfseries}
  \renewcommand*{\chaptitlefont}{\normalfont\HUGE\sffamily\bfseries}
  \renewcommand*{\printchaptername}{\chapnumfont CHAPTER\ }
  \renewcommand*{\chapternamenum}{}
  \renewcommand*{\printchapternum}{\raggedleft \chapnumfont \thechapter}
  \renewcommand*{\printchaptertitle}[1]{
    \vspace{-5mm}\hrule\vspace{2mm}\raggedleft {\chaptitlefont ##1}\par\nobreak}
  \renewcommand*\afterchaptertitle{\par\nobreak\vskip2.5\afterchapskip}}
\chapterstyle{oreilly}


\setsecheadstyle{\normalfont\huge\sffamily\bfseries}

\setsubsecheadstyle{\normalfont\itshape}

\setsecnumdepth{chapter}
\maxsecnumdepth{chapter}

\renewcommand{\cftchapterfont}{\normalfont\sffamily\bfseries\large} 
\renewcommand{\cftchapterpagefont}{\normalfont\sffamily\bfseries\large}
\renewcommand*{\cftchapterleader}{\dotfill}
\renewcommand*{\cftsectionleader}{\hfill}

\addto\captionsenglish{\renewcommand\contentsname{Table of Contents}}

\usepackage{emojione}